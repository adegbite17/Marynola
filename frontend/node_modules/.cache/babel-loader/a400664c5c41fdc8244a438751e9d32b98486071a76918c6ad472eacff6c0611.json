{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\PycharmProjects\\\\Company\\\\frontend\\\\src\\\\components\\\\dashboard\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Container, Typography, Box, Button, Card, CardContent, Alert, CircularProgress, IconButton, Dialog, DialogTitle, DialogContent, DialogActions, TextField, InputAdornment, Select, MenuItem, FormControl, InputLabel } from '@mui/material';\nimport { Download, Delete, Search, Add, GetApp } from '@mui/icons-material';\nimport { useNavigate } from 'react-router-dom';\nimport ApiService from '../../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  const navigate = useNavigate();\n  const [dashboardData, setDashboardData] = useState(null);\n  const [staffList, setStaffList] = useState([]);\n  const [filteredStaff, setFilteredStaff] = useState([]);\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [searchLoading, setSearchLoading] = useState(false);\n  const [downloadLoading, setDownloadLoading] = useState(null);\n  const [excelDownloading, setExcelDownloading] = useState(false);\n  const [deleteDialog, setDeleteDialog] = useState({\n    open: false,\n    staffId: null,\n    staffName: ''\n  });\n\n  // Search states\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedEmploymentStatus, setSelectedEmploymentStatus] = useState('');\n  useEffect(() => {\n    // Check authentication first\n    const token = localStorage.getItem('token');\n    if (!token) {\n      navigate('/login', {\n        replace: true\n      });\n      return;\n    }\n    loadDashboardData();\n  }, [navigate]);\n\n  // Update filtered staff when staffList changes\n  useEffect(() => {\n    setFilteredStaff(staffList);\n  }, [staffList]);\n  const loadDashboardData = async () => {\n    try {\n      console.log('Loading dashboard data...');\n\n      // Load dashboard data with proper error handling\n      let dashboard = {\n        company_name: 'Your Company'\n      };\n      let staff = [];\n      try {\n        dashboard = await ApiService.getDashboard();\n        console.log('Dashboard API response:', dashboard);\n      } catch (err) {\n        console.warn('Dashboard endpoint failed:', err);\n      }\n      try {\n        const staffResponse = await ApiService.getStaffList();\n        console.log('Staff API response:', staffResponse);\n\n        // Handle different response formats\n        if (Array.isArray(staffResponse)) {\n          staff = staffResponse;\n        } else if (staffResponse && Array.isArray(staffResponse.data)) {\n          staff = staffResponse.data;\n        } else if (staffResponse && Array.isArray(staffResponse.staff)) {\n          staff = staffResponse.staff;\n        } else {\n          console.warn('Staff response is not an array:', staffResponse);\n          staff = [];\n        }\n      } catch (err) {\n        console.warn('Staff list endpoint failed:', err);\n        staff = [];\n      }\n      setDashboardData(dashboard);\n      setStaffList(staff);\n      setFilteredStaff(staff);\n      console.log('Final state:', {\n        dashboard,\n        staff: staff.length\n      });\n    } catch (error) {\n      console.error('Dashboard error:', error);\n      setError(error.message || 'Failed to load dashboard data.');\n\n      // Ensure staffList is still an array even on error\n      setStaffList([]);\n      setFilteredStaff([]);\n\n      // If authentication fails, redirect to login\n      if (error.message.includes('401') || error.message.includes('Session expired')) {\n        localStorage.removeItem('token');\n        localStorage.removeItem('user');\n        navigate('/login', {\n          replace: true\n        });\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleSearch = async () => {\n    if (!searchQuery.trim() && !selectedEmploymentStatus) {\n      // If no search criteria, show all staff\n      setFilteredStaff(staffList);\n      return;\n    }\n    setSearchLoading(true);\n    try {\n      const response = await ApiService.searchStaff(searchQuery, selectedEmploymentStatus);\n      setFilteredStaff(response.staff || []);\n      setError('');\n    } catch (error) {\n      console.error('Search error:', error);\n      setError('Search failed. Please try again.');\n      // Fall back to local filtering if API search fails\n      handleLocalSearch();\n    } finally {\n      setSearchLoading(false);\n    }\n  };\n  const handleLocalSearch = () => {\n    let filtered = [...staffList];\n    if (searchQuery.trim()) {\n      const query = searchQuery.toLowerCase();\n      filtered = filtered.filter(staff => {\n        var _staff$firstname, _staff$lastname, _staff$telephone_numb, _staff$national_insur;\n        return ((_staff$firstname = staff.firstname) === null || _staff$firstname === void 0 ? void 0 : _staff$firstname.toLowerCase().includes(query)) || ((_staff$lastname = staff.lastname) === null || _staff$lastname === void 0 ? void 0 : _staff$lastname.toLowerCase().includes(query)) || ((_staff$telephone_numb = staff.telephone_number) === null || _staff$telephone_numb === void 0 ? void 0 : _staff$telephone_numb.includes(query)) || ((_staff$national_insur = staff.national_insurance_number) === null || _staff$national_insur === void 0 ? void 0 : _staff$national_insur.toLowerCase().includes(query));\n      });\n    }\n    if (selectedEmploymentStatus) {\n      filtered = filtered.filter(staff => staff.employment_status === selectedEmploymentStatus);\n    }\n    setFilteredStaff(filtered);\n  };\n  const handleClearSearch = () => {\n    setSearchQuery('');\n    setSelectedEmploymentStatus('');\n    setFilteredStaff(staffList);\n  };\n  const handleDownloadExcel = async () => {\n    setExcelDownloading(true);\n    try {\n      await ApiService.downloadStaffExcel();\n      setError('');\n    } catch (error) {\n      console.error('Excel download error:', error);\n      setError('Failed to download Excel file. Please try again.');\n    } finally {\n      setExcelDownloading(false);\n    }\n  };\n  const handleDownloadId = async (staffId, staffName) => {\n    try {\n      setDownloadLoading(staffId);\n      const blob = await ApiService.downloadStaffId(staffId);\n\n      // Create download link\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `${staffName.replace(/\\s+/g, '_')}_id_proof`;\n      document.body.appendChild(a);\n      a.click();\n\n      // Cleanup\n      window.URL.revokeObjectURL(url);\n      document.body.removeChild(a);\n    } catch (error) {\n      console.error('Download error:', error);\n      setError('Failed to download ID proof. Please try again.');\n    } finally {\n      setDownloadLoading(null);\n    }\n  };\n  const handleDeleteClick = (staffId, staffName) => {\n    setDeleteDialog({\n      open: true,\n      staffId,\n      staffName\n    });\n  };\n  const handleDeleteConfirm = async () => {\n    try {\n      await ApiService.deleteStaff(deleteDialog.staffId);\n\n      // Remove from both lists\n      const updatedStaffList = staffList.filter(staff => staff.id !== deleteDialog.staffId);\n      const updatedFilteredList = filteredStaff.filter(staff => staff.id !== deleteDialog.staffId);\n      setStaffList(updatedStaffList);\n      setFilteredStaff(updatedFilteredList);\n      setDeleteDialog({\n        open: false,\n        staffId: null,\n        staffName: ''\n      });\n      setError(''); // Clear any previous errors\n    } catch (error) {\n      console.error('Delete error:', error);\n      setError('Failed to delete staff member. Please try again.');\n    }\n  };\n  const handleDeleteCancel = () => {\n    setDeleteDialog({\n      open: false,\n      staffId: null,\n      staffName: ''\n    });\n  };\n  const handleLogout = async () => {\n    try {\n      await ApiService.logout();\n    } catch (error) {\n      console.error('Logout error:', error);\n    } finally {\n      localStorage.removeItem('token');\n      localStorage.removeItem('user');\n      navigate('/login', {\n        replace: true\n      });\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          mt: 4,\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          sx: {\n            mt: 2\n          },\n          children: \"Loading Dashboard...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Ensure staffList is always an array\n  const safeStaffList = Array.isArray(staffList) ? staffList : [];\n  const safeFilteredStaff = Array.isArray(filteredStaff) ? filteredStaff : [];\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"lg\",\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mt: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          mb: 4\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          children: \"Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          onClick: handleLogout,\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        sx: {\n          mb: 2\n        },\n        onClose: () => setError(''),\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'grid',\n          gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))',\n          gap: 3,\n          mb: 4\n        },\n        children: [/*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              color: \"textSecondary\",\n              children: \"Total Staff\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h3\",\n              color: \"primary\",\n              children: safeStaffList.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              color: \"textSecondary\",\n              children: \"Filtered Results\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h3\",\n              color: \"secondary\",\n              children: safeFilteredStaff.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              color: \"textSecondary\",\n              children: \"Company\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              children: (dashboardData === null || dashboardData === void 0 ? void 0 : dashboardData.company_name) || 'MaryNola'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          gap: 2,\n          mb: 4\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          startIcon: /*#__PURE__*/_jsxDEV(Add, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 24\n          }, this),\n          onClick: () => navigate('/add-staff'),\n          size: \"large\",\n          children: \"Add New Staff\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outlined\",\n          startIcon: excelDownloading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 43\n          }, this) : /*#__PURE__*/_jsxDEV(GetApp, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 76\n          }, this),\n          onClick: handleDownloadExcel,\n          disabled: excelDownloading || safeStaffList.length === 0,\n          size: \"large\",\n          children: excelDownloading ? 'Downloading...' : 'Download Excel'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        sx: {\n          mb: 4\n        },\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"Search Staff\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              gap: 2,\n              flexWrap: 'wrap',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(TextField, {\n              placeholder: \"Search by name, phone, or National Insurance Number...\",\n              value: searchQuery,\n              onChange: e => setSearchQuery(e.target.value),\n              InputProps: {\n                startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n                  position: \"start\",\n                  children: /*#__PURE__*/_jsxDEV(Search, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 354,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 21\n                }, this)\n              },\n              sx: {\n                flex: 1,\n                minWidth: 300\n              },\n              onKeyPress: e => e.key === 'Enter' && handleSearch()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n              sx: {\n                minWidth: 180\n              },\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                children: \"Employment Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                value: selectedEmploymentStatus,\n                onChange: e => setSelectedEmploymentStatus(e.target.value),\n                label: \"Employment Status\",\n                children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"\",\n                  children: \"All\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 368,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"Full-time\",\n                  children: \"Full-time\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 369,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"Part-time\",\n                  children: \"Part-time\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 370,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"Contract\",\n                  children: \"Contract\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 371,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"Intern\",\n                  children: \"Intern\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                  value: \"Temporary\",\n                  children: \"Temporary\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              onClick: handleSearch,\n              disabled: searchLoading,\n              sx: {\n                minWidth: 100\n              },\n              children: searchLoading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 34\n              }, this) : 'Search'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outlined\",\n              onClick: handleClearSearch,\n              disabled: searchLoading,\n              children: \"Clear\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        gutterBottom: true,\n        sx: {\n          mt: 4\n        },\n        children: [\"Staff Members \", safeFilteredStaff.length !== safeStaffList.length && `(${safeFilteredStaff.length} of ${safeStaffList.length})`]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 9\n      }, this), safeFilteredStaff.length === 0 ? /*#__PURE__*/_jsxDEV(Card, {\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            textAlign: \"center\",\n            color: \"textSecondary\",\n            children: safeStaffList.length === 0 ? \"No staff members added yet. Click \\\"Add New Staff\\\" to get started.\" : \"No staff members match your search criteria. Try adjusting your search terms.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'grid',\n          gap: 2\n        },\n        children: safeFilteredStaff.map((staff, index) => /*#__PURE__*/_jsxDEV(Card, {\n          children: /*#__PURE__*/_jsxDEV(CardContent, {\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h6\",\n                  children: [staff.firstname, \" \", staff.lastname]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  color: \"textSecondary\",\n                  children: staff.employment_status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 420,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  children: [\"NIN: \", staff.national_insurance_number]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 423,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  children: [\"Phone: \", staff.telephone_number]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 426,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  children: [\"Address: \", staff.home_address]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 429,\n                  columnNumber: 23\n                }, this), staff.immigration_status && /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  children: [\"Immigration Status: \", staff.immigration_status]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  gap: 1\n                },\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outlined\",\n                  size: \"small\",\n                  onClick: () => navigate(`/edit-staff/${staff.id}`),\n                  children: \"Edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 440,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                  color: \"info\",\n                  onClick: () => handleDownloadId(staff.id, `${staff.firstname}_${staff.lastname}`),\n                  title: \"Download ID Proof\",\n                  disabled: downloadLoading === staff.id,\n                  children: downloadLoading === staff.id ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                    size: 20\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 456,\n                    columnNumber: 27\n                  }, this) : /*#__PURE__*/_jsxDEV(Download, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 458,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 449,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                  color: \"error\",\n                  onClick: () => handleDeleteClick(staff.id, `${staff.firstname} ${staff.lastname}`),\n                  title: \"Delete Staff\",\n                  children: /*#__PURE__*/_jsxDEV(Delete, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 468,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 463,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 17\n          }, this)\n        }, staff.id || index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n        open: deleteDialog.open,\n        onClose: handleDeleteCancel,\n        children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n          children: \"Confirm Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n          children: [\"Are you sure you want to delete \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: deleteDialog.staffName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 45\n          }, this), \"? This action cannot be undone and will permanently remove all their data.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleDeleteCancel,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 486,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleDeleteConfirm,\n            color: \"error\",\n            variant: \"contained\",\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 487,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 479,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 269,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"aAQpeYtNJfSjtFJDyLALGEIr+d0=\", false, function () {\n  return [useNavigate];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","Container","Typography","Box","Button","Card","CardContent","Alert","CircularProgress","IconButton","Dialog","DialogTitle","DialogContent","DialogActions","TextField","InputAdornment","Select","MenuItem","FormControl","InputLabel","Download","Delete","Search","Add","GetApp","useNavigate","ApiService","jsxDEV","_jsxDEV","Dashboard","_s","navigate","dashboardData","setDashboardData","staffList","setStaffList","filteredStaff","setFilteredStaff","error","setError","loading","setLoading","searchLoading","setSearchLoading","downloadLoading","setDownloadLoading","excelDownloading","setExcelDownloading","deleteDialog","setDeleteDialog","open","staffId","staffName","searchQuery","setSearchQuery","selectedEmploymentStatus","setSelectedEmploymentStatus","token","localStorage","getItem","replace","loadDashboardData","console","log","dashboard","company_name","staff","getDashboard","err","warn","staffResponse","getStaffList","Array","isArray","data","length","message","includes","removeItem","handleSearch","trim","response","searchStaff","handleLocalSearch","filtered","query","toLowerCase","filter","_staff$firstname","_staff$lastname","_staff$telephone_numb","_staff$national_insur","firstname","lastname","telephone_number","national_insurance_number","employment_status","handleClearSearch","handleDownloadExcel","downloadStaffExcel","handleDownloadId","blob","downloadStaffId","url","window","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","revokeObjectURL","removeChild","handleDeleteClick","handleDeleteConfirm","deleteStaff","updatedStaffList","id","updatedFilteredList","handleDeleteCancel","handleLogout","logout","children","sx","mt","textAlign","fileName","_jsxFileName","lineNumber","columnNumber","safeStaffList","safeFilteredStaff","maxWidth","display","justifyContent","alignItems","mb","variant","onClick","severity","onClose","gridTemplateColumns","gap","color","startIcon","size","disabled","gutterBottom","flexWrap","placeholder","value","onChange","e","target","InputProps","startAdornment","position","flex","minWidth","onKeyPress","key","label","map","index","home_address","immigration_status","title","_c","$RefreshReg$"],"sources":["C:/Users/USER/PycharmProjects/Company/frontend/src/components/dashboard/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Container,\r\n  Typography,\r\n  Box,\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  Alert,\r\n  CircularProgress,\r\n  IconButton,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  TextField,\r\n  InputAdornment,\r\n  Select,\r\n  MenuItem,\r\n  FormControl,\r\n  InputLabel\r\n} from '@mui/material';\r\nimport { Download, Delete, Search, Add, GetApp } from '@mui/icons-material';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport ApiService from '../../services/api';\r\n\r\nconst Dashboard = () => {\r\n  const navigate = useNavigate();\r\n  const [dashboardData, setDashboardData] = useState(null);\r\n  const [staffList, setStaffList] = useState([]);\r\n  const [filteredStaff, setFilteredStaff] = useState([]);\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchLoading, setSearchLoading] = useState(false);\r\n  const [downloadLoading, setDownloadLoading] = useState(null);\r\n  const [excelDownloading, setExcelDownloading] = useState(false);\r\n  const [deleteDialog, setDeleteDialog] = useState({\r\n    open: false,\r\n    staffId: null,\r\n    staffName: ''\r\n  });\r\n\r\n  // Search states\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [selectedEmploymentStatus, setSelectedEmploymentStatus] = useState('');\r\n\r\n  useEffect(() => {\r\n    // Check authentication first\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      navigate('/login', { replace: true });\r\n      return;\r\n    }\r\n\r\n    loadDashboardData();\r\n  }, [navigate]);\r\n\r\n  // Update filtered staff when staffList changes\r\n  useEffect(() => {\r\n    setFilteredStaff(staffList);\r\n  }, [staffList]);\r\n\r\n  const loadDashboardData = async () => {\r\n    try {\r\n      console.log('Loading dashboard data...');\r\n\r\n      // Load dashboard data with proper error handling\r\n      let dashboard = { company_name: 'Your Company' };\r\n      let staff = [];\r\n\r\n      try {\r\n        dashboard = await ApiService.getDashboard();\r\n        console.log('Dashboard API response:', dashboard);\r\n      } catch (err) {\r\n        console.warn('Dashboard endpoint failed:', err);\r\n      }\r\n\r\n      try {\r\n        const staffResponse = await ApiService.getStaffList();\r\n        console.log('Staff API response:', staffResponse);\r\n\r\n        // Handle different response formats\r\n        if (Array.isArray(staffResponse)) {\r\n          staff = staffResponse;\r\n        } else if (staffResponse && Array.isArray(staffResponse.data)) {\r\n          staff = staffResponse.data;\r\n        } else if (staffResponse && Array.isArray(staffResponse.staff)) {\r\n          staff = staffResponse.staff;\r\n        } else {\r\n          console.warn('Staff response is not an array:', staffResponse);\r\n          staff = [];\r\n        }\r\n      } catch (err) {\r\n        console.warn('Staff list endpoint failed:', err);\r\n        staff = [];\r\n      }\r\n\r\n      setDashboardData(dashboard);\r\n      setStaffList(staff);\r\n      setFilteredStaff(staff);\r\n      console.log('Final state:', { dashboard, staff: staff.length });\r\n\r\n    } catch (error) {\r\n      console.error('Dashboard error:', error);\r\n      setError(error.message || 'Failed to load dashboard data.');\r\n\r\n      // Ensure staffList is still an array even on error\r\n      setStaffList([]);\r\n      setFilteredStaff([]);\r\n\r\n      // If authentication fails, redirect to login\r\n      if (error.message.includes('401') || error.message.includes('Session expired')) {\r\n        localStorage.removeItem('token');\r\n        localStorage.removeItem('user');\r\n        navigate('/login', { replace: true });\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSearch = async () => {\r\n    if (!searchQuery.trim() && !selectedEmploymentStatus) {\r\n      // If no search criteria, show all staff\r\n      setFilteredStaff(staffList);\r\n      return;\r\n    }\r\n\r\n    setSearchLoading(true);\r\n    try {\r\n      const response = await ApiService.searchStaff(searchQuery, selectedEmploymentStatus);\r\n      setFilteredStaff(response.staff || []);\r\n      setError('');\r\n    } catch (error) {\r\n      console.error('Search error:', error);\r\n      setError('Search failed. Please try again.');\r\n      // Fall back to local filtering if API search fails\r\n      handleLocalSearch();\r\n    } finally {\r\n      setSearchLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleLocalSearch = () => {\r\n    let filtered = [...staffList];\r\n\r\n    if (searchQuery.trim()) {\r\n      const query = searchQuery.toLowerCase();\r\n      filtered = filtered.filter(staff =>\r\n        staff.firstname?.toLowerCase().includes(query) ||\r\n        staff.lastname?.toLowerCase().includes(query) ||\r\n        staff.telephone_number?.includes(query) ||\r\n        staff.national_insurance_number?.toLowerCase().includes(query)\r\n      );\r\n    }\r\n\r\n    if (selectedEmploymentStatus) {\r\n      filtered = filtered.filter(staff =>\r\n        staff.employment_status === selectedEmploymentStatus\r\n      );\r\n    }\r\n\r\n    setFilteredStaff(filtered);\r\n  };\r\n\r\n  const handleClearSearch = () => {\r\n    setSearchQuery('');\r\n    setSelectedEmploymentStatus('');\r\n    setFilteredStaff(staffList);\r\n  };\r\n\r\n  const handleDownloadExcel = async () => {\r\n    setExcelDownloading(true);\r\n    try {\r\n      await ApiService.downloadStaffExcel();\r\n      setError('');\r\n    } catch (error) {\r\n      console.error('Excel download error:', error);\r\n      setError('Failed to download Excel file. Please try again.');\r\n    } finally {\r\n      setExcelDownloading(false);\r\n    }\r\n  };\r\n\r\n  const handleDownloadId = async (staffId, staffName) => {\r\n    try {\r\n      setDownloadLoading(staffId);\r\n      const blob = await ApiService.downloadStaffId(staffId);\r\n\r\n      // Create download link\r\n      const url = window.URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = `${staffName.replace(/\\s+/g, '_')}_id_proof`;\r\n      document.body.appendChild(a);\r\n      a.click();\r\n\r\n      // Cleanup\r\n      window.URL.revokeObjectURL(url);\r\n      document.body.removeChild(a);\r\n\r\n    } catch (error) {\r\n      console.error('Download error:', error);\r\n      setError('Failed to download ID proof. Please try again.');\r\n    } finally {\r\n      setDownloadLoading(null);\r\n    }\r\n  };\r\n\r\n  const handleDeleteClick = (staffId, staffName) => {\r\n    setDeleteDialog({\r\n      open: true,\r\n      staffId,\r\n      staffName\r\n    });\r\n  };\r\n\r\n  const handleDeleteConfirm = async () => {\r\n    try {\r\n      await ApiService.deleteStaff(deleteDialog.staffId);\r\n\r\n      // Remove from both lists\r\n      const updatedStaffList = staffList.filter(staff => staff.id !== deleteDialog.staffId);\r\n      const updatedFilteredList = filteredStaff.filter(staff => staff.id !== deleteDialog.staffId);\r\n\r\n      setStaffList(updatedStaffList);\r\n      setFilteredStaff(updatedFilteredList);\r\n      setDeleteDialog({ open: false, staffId: null, staffName: '' });\r\n      setError(''); // Clear any previous errors\r\n\r\n    } catch (error) {\r\n      console.error('Delete error:', error);\r\n      setError('Failed to delete staff member. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleDeleteCancel = () => {\r\n    setDeleteDialog({ open: false, staffId: null, staffName: '' });\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      await ApiService.logout();\r\n    } catch (error) {\r\n      console.error('Logout error:', error);\r\n    } finally {\r\n      localStorage.removeItem('token');\r\n      localStorage.removeItem('user');\r\n      navigate('/login', { replace: true });\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Container>\r\n        <Box sx={{ mt: 4, textAlign: 'center' }}>\r\n          <CircularProgress />\r\n          <Typography sx={{ mt: 2 }}>Loading Dashboard...</Typography>\r\n        </Box>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  // Ensure staffList is always an array\r\n  const safeStaffList = Array.isArray(staffList) ? staffList : [];\r\n  const safeFilteredStaff = Array.isArray(filteredStaff) ? filteredStaff : [];\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\">\r\n      <Box sx={{ mt: 4 }}>\r\n        <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 4 }}>\r\n          <Typography variant=\"h4\">Dashboard</Typography>\r\n          <Button variant=\"outlined\" onClick={handleLogout}>\r\n            Logout\r\n          </Button>\r\n        </Box>\r\n\r\n        {error && (\r\n          <Alert severity=\"error\" sx={{ mb: 2 }} onClose={() => setError('')}>\r\n            {error}\r\n          </Alert>\r\n        )}\r\n\r\n        <Box sx={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))', gap: 3, mb: 4 }}>\r\n          <Card>\r\n            <CardContent>\r\n              <Typography variant=\"h6\" color=\"textSecondary\">\r\n                Total Staff\r\n              </Typography>\r\n              <Typography variant=\"h3\" color=\"primary\">\r\n                {safeStaffList.length}\r\n              </Typography>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card>\r\n            <CardContent>\r\n              <Typography variant=\"h6\" color=\"textSecondary\">\r\n                Filtered Results\r\n              </Typography>\r\n              <Typography variant=\"h3\" color=\"secondary\">\r\n                {safeFilteredStaff.length}\r\n              </Typography>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card>\r\n            <CardContent>\r\n              <Typography variant=\"h6\" color=\"textSecondary\">\r\n                Company\r\n              </Typography>\r\n              <Typography variant=\"h6\">\r\n                {dashboardData?.company_name || 'MaryNola'}\r\n              </Typography>\r\n            </CardContent>\r\n          </Card>\r\n        </Box>\r\n\r\n        {/* Action Buttons */}\r\n        <Box sx={{ display: 'flex', gap: 2, mb: 4 }}>\r\n          <Button\r\n            variant=\"contained\"\r\n            startIcon={<Add />}\r\n            onClick={() => navigate('/add-staff')}\r\n            size=\"large\"\r\n          >\r\n            Add New Staff\r\n          </Button>\r\n          <Button\r\n            variant=\"outlined\"\r\n            startIcon={excelDownloading ? <CircularProgress size={20} /> : <GetApp />}\r\n            onClick={handleDownloadExcel}\r\n            disabled={excelDownloading || safeStaffList.length === 0}\r\n            size=\"large\"\r\n          >\r\n            {excelDownloading ? 'Downloading...' : 'Download Excel'}\r\n          </Button>\r\n        </Box>\r\n\r\n        {/* Search Section */}\r\n        <Card sx={{ mb: 4 }}>\r\n          <CardContent>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Search Staff\r\n            </Typography>\r\n            <Box sx={{ display: 'flex', gap: 2, flexWrap: 'wrap', alignItems: 'center' }}>\r\n              <TextField\r\n                placeholder=\"Search by name, phone, or National Insurance Number...\"\r\n                value={searchQuery}\r\n                onChange={(e) => setSearchQuery(e.target.value)}\r\n                InputProps={{\r\n                  startAdornment: (\r\n                    <InputAdornment position=\"start\">\r\n                      <Search />\r\n                    </InputAdornment>\r\n                  ),\r\n                }}\r\n                sx={{ flex: 1, minWidth: 300 }}\r\n                onKeyPress={(e) => e.key === 'Enter' && handleSearch()}\r\n              />\r\n              <FormControl sx={{ minWidth: 180 }}>\r\n                <InputLabel>Employment Status</InputLabel>\r\n                <Select\r\n                  value={selectedEmploymentStatus}\r\n                  onChange={(e) => setSelectedEmploymentStatus(e.target.value)}\r\n                  label=\"Employment Status\"\r\n                >\r\n                  <MenuItem value=\"\">All</MenuItem>\r\n                  <MenuItem value=\"Full-time\">Full-time</MenuItem>\r\n                  <MenuItem value=\"Part-time\">Part-time</MenuItem>\r\n                  <MenuItem value=\"Contract\">Contract</MenuItem>\r\n                  <MenuItem value=\"Intern\">Intern</MenuItem>\r\n                  <MenuItem value=\"Temporary\">Temporary</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n              <Button\r\n                variant=\"contained\"\r\n                onClick={handleSearch}\r\n                disabled={searchLoading}\r\n                sx={{ minWidth: 100 }}\r\n              >\r\n                {searchLoading ? <CircularProgress size={20} /> : 'Search'}\r\n              </Button>\r\n              <Button\r\n                variant=\"outlined\"\r\n                onClick={handleClearSearch}\r\n                disabled={searchLoading}\r\n              >\r\n                Clear\r\n              </Button>\r\n            </Box>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Typography variant=\"h5\" gutterBottom sx={{ mt: 4 }}>\r\n          Staff Members {safeFilteredStaff.length !== safeStaffList.length && `(${safeFilteredStaff.length} of ${safeStaffList.length})`}\r\n        </Typography>\r\n\r\n        {safeFilteredStaff.length === 0 ? (\r\n          <Card>\r\n            <CardContent>\r\n              <Typography variant=\"body1\" textAlign=\"center\" color=\"textSecondary\">\r\n                {safeStaffList.length === 0\r\n                  ? \"No staff members added yet. Click \\\"Add New Staff\\\" to get started.\"\r\n                  : \"No staff members match your search criteria. Try adjusting your search terms.\"\r\n                }\r\n              </Typography>\r\n            </CardContent>\r\n          </Card>\r\n        ) : (\r\n          <Box sx={{ display: 'grid', gap: 2 }}>\r\n            {safeFilteredStaff.map((staff, index) => (\r\n              <Card key={staff.id || index}>\r\n                <CardContent>\r\n                  <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                    <Box>\r\n                      <Typography variant=\"h6\">\r\n                        {staff.firstname} {staff.lastname}\r\n                      </Typography>\r\n                      <Typography color=\"textSecondary\">\r\n                        {staff.employment_status}\r\n                      </Typography>\r\n                      <Typography variant=\"body2\">\r\n                        NIN: {staff.national_insurance_number}\r\n                      </Typography>\r\n                      <Typography variant=\"body2\">\r\n                        Phone: {staff.telephone_number}\r\n                      </Typography>\r\n                      <Typography variant=\"body2\">\r\n                        Address: {staff.home_address}\r\n                      </Typography>\r\n                      {staff.immigration_status && (\r\n                        <Typography variant=\"body2\">\r\n                          Immigration Status: {staff.immigration_status}\r\n                        </Typography>\r\n                      )}\r\n                    </Box>\r\n                    <Box sx={{ display: 'flex', gap: 1 }}>\r\n                      {/* Edit Button */}\r\n                      <Button\r\n                        variant=\"outlined\"\r\n                        size=\"small\"\r\n                        onClick={() => navigate(`/edit-staff/${staff.id}`)}\r\n                      >\r\n                        Edit\r\n                      </Button>\r\n\r\n                      {/* Download ID Button */}\r\n                      <IconButton\r\n                        color=\"info\"\r\n                        onClick={() => handleDownloadId(staff.id, `${staff.firstname}_${staff.lastname}`)}\r\n                        title=\"Download ID Proof\"\r\n                        disabled={downloadLoading === staff.id}\r\n                      >\r\n                        {downloadLoading === staff.id ? (\r\n                          <CircularProgress size={20} />\r\n                        ) : (\r\n                          <Download />\r\n                        )}\r\n                      </IconButton>\r\n\r\n                      {/* Delete Button */}\r\n                      <IconButton\r\n                        color=\"error\"\r\n                        onClick={() => handleDeleteClick(staff.id, `${staff.firstname} ${staff.lastname}`)}\r\n                        title=\"Delete Staff\"\r\n                      >\r\n                        <Delete />\r\n                      </IconButton>\r\n                    </Box>\r\n                  </Box>\r\n                </CardContent>\r\n              </Card>\r\n            ))}\r\n          </Box>\r\n        )}\r\n\r\n        {/* Delete Confirmation Dialog */}\r\n        <Dialog open={deleteDialog.open} onClose={handleDeleteCancel}>\r\n          <DialogTitle>Confirm Delete</DialogTitle>\r\n          <DialogContent>\r\n            Are you sure you want to delete <strong>{deleteDialog.staffName}</strong>?\r\n            This action cannot be undone and will permanently remove all their data.\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={handleDeleteCancel}>Cancel</Button>\r\n            <Button\r\n              onClick={handleDeleteConfirm}\r\n              color=\"error\"\r\n              variant=\"contained\"\r\n            >\r\n              Delete\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </Box>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}